!function(t){t.fn.barrager=function(e){e=t.extend({close:!0,max:10,speed:16,color:"#ffffff"},e||{});const r="#"+(a="barrage_"+(new Date).getTime());var a=t("<div class='barrage' id='"+a+"'></div>").appendTo(t(this)),o=.35*t(window).height();const i=t(window).width()+100;o=[o/5+.5*t(window).height(),o/5*2+.5*t(window).height(),o/5*3+.5*t(window).height(),o/5*4+.5*t(window).height(),o/5*5+.5*t(window).height()][Math.floor(5*Math.random())],a.css("bottom",o+"px"),div_barrager_box=t("<div class='barrage_box cl'></div>").appendTo(a),e.img&&(div_barrager_box.append("<a class='portrait z' href='javascript:;'></a>"),t("<img src='' >").appendTo(r+" .barrage_box .portrait").attr("src",e.img)),div_barrager_box.append(" <div class='z p'></div>"),e.close&&div_barrager_box.append(" <div class='close z'></div>"),(o=t("<a title='' href='' target='_blank'></a>").appendTo(r+" .barrage_box .p")).attr({href:e.href,id:e.id}).empty().append(e.info),o.css("color",e.color),a.css("margin-right",0),t(r).animate({right:i},1e3*e.speed,function(){t(r).remove()}),div_barrager_box.mouseover(function(){t(r).stop(!0)}),div_barrager_box.mouseout(function(){t(r).animate({right:i},1e3*e.speed,function(){t(r).remove()})}),t(r+".barrage .barrage_box .close").click(function(){t(r).remove()})},t.fn.barrager.removeAll=function(){t(".barrage").remove()}}(jQuery);